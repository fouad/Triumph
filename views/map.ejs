
<html class="no-js">
<head>
    <title>Play - TRIUMPH</title>
    <link rel="stylesheet" type="text/css" href="/css/base.css">
    <link type="image/png" rel="SHORTCUT ICON" href="/img/trophy.png">
<link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Bitter:700' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script type="text/javascript" src="https://raw.github.com/carhartl/jquery-cookie/master/jquery.cookie.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js"></script>
<script type="application/javascript" src="/js/notif.js"></script>
<link rel="stylesheet" type="text/css" href="/css/notif.css">
<link rel="stylesheet" type="text/css" href="/css/style.css">
<script type="text/javascript" src="/js/chosen.jquery.min.js"></script>
<script type="text/javascript" src="/js/jquery.svg.js"></script>
<script type="text/javascript" src="/js/jquery.svgdom.pack.js"></script>
<script type="text/javascript" src="/js/jquery.svganim.pack.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/game.js"></script>
<link rel="stylesheet" type="text/css" href="/css/chosen.css">
<script type="text/javascript">
$(window).load(function(){  
    var paper = new Raphael(document.getElementById('canvas_container'), 800, 590);  
    var boroughs = [];
    boroughs.push(paper.path("m696,110c-2,5.333 33,14 33,14c0,0 -36,69 -36,69c0,0 -17.666016,61.667007 -13,99c4.666016,37.333008 27,24.666992 15,46.666992c-12,21.998993 -30,49.333008 -30,49.333008c0,0 -14.333374,22.333649 -15,23c-0.666626,0.666351 -17.666626,3.06665 -47.599854,-10.200073c-37.59967,-27.266693 -32.733154,-29.466888 -32.400146,-29.799927c0.333008,-0.333038 63,-108 63,-108c0,0 24,-80 24,-80c0,0 41,-78.333 39,-73z"));  
    boroughs.push(paper.path("m733.333008,2.875c0,0 -25,102 -25,102c0,0 22.333618,17.998894 30.667603,27.666306c8.333984,9.667419 85.999451,23.000748 85.665771,23.000351c-0.333679,-0.000397 64.000916,-5.000351 73.999939,-10.333344c9.998962,-5.332977 18.666687,-21.333305 18.666687,-21.333305c0,0 36,55.667015 52,61.000008c18,4 30.997009,-80.999939 30.997009,-80.999939c-11.997009,-12 -36.997009,33.000031 -36.997009,33.000031c-6.666016,-25.333008 20,-46.000031 20,-46.000031c0,0 -98,-28.999996 -98,-28.999996c-21.333008,-60.66668 -47,-16 -47,-16c-15.333008,-4.666698 -76.333008,-21 -105,-43l0,-0.00001l0,0.00001l0,-0.00001l0,-0.00001l0,-0.00001l0,-0.00002l0,-0.00001l0,-0.00002z"));
    boroughs.push(paper.path("m736.333374,134.333344c0,0 -5.666321,-3.999924 -37,68c-31.333679,71.999908 1.666626,121.666626 7,116.999969c26.666931,30.666626 69,-8 69,-8c0,0 35,13 35,13c20.666687,-16.666595 -15,-48 -15,-48c0,0 22,11 22,11c0,0 5,11 5,11c0,0 13,-1 13,-1c0,0 -28,-30 -28,-30c0,0 17.75,-111.374969 17,-110.999969l-43.999878,-8.999969c0.666992,-0.000137 -44.000122,-13.000031 -44.000122,-13.000031z"))
    boroughs.push(paper.path("m824.333313,155.999985c0,0 -16.666687,108.000046 -16.666687,108.000046c0,0 31.333313,29.333313 31.333313,29.333313c0,0 8.666687,24 8.666687,24c0,0 17.333313,-6.666656 17.333313,-6.666656c-0.666382,-18.666626 10,-64.666702 10,-64.666702c0.999939,53.333176 8.666687,58.000046 8.666687,58.000046c0,0 13.333313,4 13.333313,4c0.5,-10.5 19.833374,-27 43.333374,-20c13,10 18.833313,15.833313 43.333313,25.333313c-26.000061,-28.666687 -38,-61.333359 -38,-61.333359c-1.333191,8.666641 -8.666687,4 -8.666687,4.666702c-10.333435,-31.500092 -7.5,-93.000031 -20.666626,-132.000015c-10.500061,20.166687 -21.666565,21.000015 -24.000427,22.333344c-2.333862,1.333328 -67.999573,8.999969 -67.999573,8.999969z"))
    boroughs.push(paper.path("m569.166016,372.16601666992c0,0 7.500977,14.833008 32.500977,27.5c23.666016,14 49.333008,12.666016 48.666016,12c-4.666016,0.666016 -58.333008,68.833008 -44.666016,104.833008c2.333008,50.333008 -24.5,62.833008 -25,62.833008c-21.5,-18.666016 -38.833984,-1.833008 -46.5,16.833984c-14.333984,-2.000977 -20.333984,3.333008 -29.333984,-9.666992c3.000244,-20.332947 3.000092,-35.333313 3.000458,-36.000427c9.333588,-24.999878 6.333649,-61.83313 12.000153,-83.166595c9.333374,-33.666779 49.332397,-95.165985 49.332397,-95.165985z"))
    boroughs.push(paper.path("m12,1127c0,0 9.5,53 35,25c22,-15 23.5,-5 44.5,-11c11.5,-7 21,-40 50,-19.5c9.5,-23.5 27,-27.5 36,-27.5c23,-10.5 66,-34 74,-46.5c3.5,-12.5 3.5,-22.5 3.5,-22.5c0,0 -11,-16.5 -33.5,-48.5c-18,-34 -17.5,-30 -36.5,-55.5c-27.5,-17 -69.5,-44 -67,-18.5c3.5,14.5 -1.5,24 -5.5,46c20,-16 26.5,-19.5 26.5,-19.5c0,0 13,9 13,9c0,0 -37,14 -37,14c0,0 -4.5,19 -15,42c-31.5,-13 -38,8 -74,33c0.5,28 18,69 18,69c0,0 -23.5,2.5 -32,31z"))
    boroughs.push(paper.path("m257,1026.5c0,0 20,-7 22,2c-1,17.5 -12,28.5 -23,23c-1.5,7.5 -1.5,7 4.5,15.5c21,-15.5 32,-36 40,-39c46,-43.5 69.5,-74.5 100.5,-105.5c24,-21.5 37.5,-40 34,-67c-25.5,7 -45.5,7 -61,6.5c-23,1.5 -71,-25.5 -82.5,-35c-44.5,-31 -41.5,-45 -55,-56.5c-52,-33.5 -79.5,-17.5 -85.5,-11c-14,13 -23,28.5 -23.5,32c-7.5,24 -2,31.5 -0.5,35.5c2,1 12.5,6.5 12.5,8.5c-4,13.5 -9,19.5 -9,19.5c0,-44.5 -9,2.5 -9,2.5c5.5,11.5 9.5,10 9.5,10c0,0 6,-2 6,-1.5c0,0.5 -1.5,13.5 -8,25.5c40.5,15 30,15.5 54,28.5c24.5,25 37,53.5 37,53.5c8,9 37,53 37,53z"))
    boroughs.push(paper.path("m236.800034,768.60022c1,0 29.600082,42.199829 47.199966,53.39978c6.400146,3.199951 33.80011,24.600037 73,37c28.800018,6.000183 53.799927,2.399963 79,-2c-13.200012,-12.800232 -6.800079,1.999939 -26,-40c-6.400024,-9.600159 -9.599976,-41.600281 -6.799927,-59.599976c-3.200073,-5.999939 -15.199982,-22.200195 -41.200073,-17.400024c-11.200012,5.999939 -9.400024,8.799988 -39,10c-6.399963,-2.400208 -13.000061,7.19989 -47,11c-13.600098,-3.800232 -3.600189,-6.799805 -39.199966,7.60022z"))
    boroughs.push(paper.path("m683,382.5c0,0 5.5,1 5.5,1c0,0 1.5,4 1.5,4c0,0 33,-32 44,-40c16,4 31.5,15.5 31.5,15.5c4,18 9.5,20 10,34c9.5,-1 14,-2.5 14,-2.5c0,0 -3,-16 -3,-16c0,0 23.5,-3 23.5,-3c0,0 37,23 37,23c0,0 0.5,11.5 0.5,11c0,-0.5 -13,4 -16.5,2.5c-7.5,34 -12.5,51 -13,64.5c0,41.5 6.5,73 6,81c6.5,30.5 -7.5,50.5 -9.5,56.5c-30,24.5 -28,23.5 -53,29.5c-8.5,-16 -34.5,-59 -48,-66c-9.5,-53.5 -35,-42.5 -46,-78c-21.5,-14 -26,-7 -42.5,-3.5c-2.5,-10.5 1.5,-18.5 1.5,-18.5c39,-66 54.5,-73.5 54.5,-73.5c0,0 -7,-3.5 -6.5,-9.5c3.5,-7 8.5,-12 8.5,-12z"))
    boroughs.push(paper.path("m930.5,580c0,0 -19,24.5 -17.5,23c-4,1 -18,16.5 -18.5,16.5c0,3 -13,8 -23.5,13.5c-4.5,0 -31,13.5 -33.5,12c0.5,1 -10.5,3 -10.5,3c1,13.5 8.5,9.5 8.5,9.5c0,18 3.5,25.5 9,19c3,9.5 5,20 5,20c0,0 -6,3.5 -6,3.5c0,0 2.5,8.5 2.5,8.5c0,0 -13,4.5 -13,4.5c22.5,27.5 14,23 27.5,19.5c-7,21.5 -1.5,21.5 18,17c12.5,2.5 -2,-14.5 21.5,-14.5c10.5,-3.5 19.5,2.5 19.5,2.5c14.5,5.5 71,45 103,66c-9,39.5 21.5,19 11,-2.5c-1,-6.5 38,-23.5 38,-23.5c5.5,-10 15.5,-19.5 15.5,-19.5c-0.5,-6 0.5,-15.5 0.5,-15.5c3,-3.5 29,-14.5 29,-14.5c-30,-21 -49,-41.5 -49,-41.5c-11.5,-13 -29.5,-59 -29.5,-59c-2.5,-6.5 -14,-67.5 -15,-67.5c-2.5,-5.5 -14,-53 -14,-53c0,0 -21,17 -21,17c0,0 -24.5,21 -24.5,21c0,0 -6.5,10.5 -33,35z"))
    boroughs.push(paper.path("m1011.999878,332c0,0 10.799866,7.600006 15.200073,24.399994c0.000122,5.200073 -8.799927,4.399994 -8.799927,4.399994c16.400391,17.199829 34.39978,59.199982 42.400024,56c-3.199951,-46 5.599976,-46.799988 5.599976,-46.799988c0,0 104.400024,84.799988 104.400024,84.799988c0,0 2.799927,36.400024 2.799927,36.400024c0,0 -18,32.399963 -18,32.399963c0,0 -46.400024,13.600037 -46.400024,13.600037c16.400635,39.200073 10.400024,63.600159 12.800049,74.000122c-1.200195,50.799866 -3.599976,57.199707 -8.400024,81.19989c6.800049,20.799927 8.800049,32 8.400024,32c-0.400024,0 -3.199951,6.399963 -3.199951,6.399963c0,0 -24.399658,-18.7995 -49.200073,-42c-15.200562,-17.199829 -29.199951,-56.399963 -29.199951,-56.399963c-5.200073,-13.200012 -6,-19.999634 -14,-54.800049c-5.19989,-16.000122 -17.600037,-72.000031 -17.600037,-72.000031c-4.800232,-27.600128 -12.399963,-75.600128 -12.399963,-75.600128c-2.000305,-32.400085 1.599915,-46 3.599976,-52.799988c3.600098,-22.399994 9.199646,-37.600067 11.999878,-45.200012l0,0.000031l0,0.000031l0,0.000031l0,0.000031l0,0.000031l0,0.000031z"))
    boroughs.push(paper.path("m821.200012,620c0,0 5.200012,28.400024 5.200012,28.400024c6.80011,0.400024 42.799927,-13.599915 58.799988,-22.800049c2.80011,2.000122 29.19989,-23.599731 52.799988,-53.199951c16.800171,-16.399963 27.599976,-30.400024 28.400024,-30.400024c0.800049,0 42,-34 42,-34c0,0 -13.200012,-84 -13.200012,-84c0,0 6,-57.200012 6,-57.200012c0,0 10.399963,-34.799988 10.399963,-34.799988c0,0 -13.200012,-0.799988 -8.399963,15.600006c-8.800293,4.799927 -9.200012,4.799988 -26.400024,2c-1.200134,-8 4.400146,-16.800018 -20.399963,-16.800018c-14.400024,0.399994 -14.399841,0.799988 -33.600037,-11.599976c-15.600159,12.399963 -23.199951,11.599976 -25.200012,33.599976c-11.60022,0.799988 -13.599976,-22 -13.599976,-22c0,0 -8.799988,8 -30,6c-2,6.799957 1.600281,11.200165 -12.400024,26.400024c1.999756,6.799957 0.799866,11.199982 17.200012,8.399994c6.399963,15.19989 0,26.399994 0,26.399994c0,0 0.799988,22.400024 20,18.800018c-11.200195,12.399933 -10.799988,13.999969 -23.599976,15.599976c-6.800171,-1.199982 -5.199829,2.799927 -23.200012,-20c-4.400208,13.599945 -8.80011,33.200043 -13.600098,60.400024c0.799988,13.999908 0.799927,28.799957 2.000122,47.199982c3.599731,19.200256 5.599731,48.400208 5.599731,48.400208c0.399963,11.600037 1.200562,17.199585 -5.599731,29.599792c-2,8.80011 -5.200012,12.400024 -5.200012,12.400024c0,0 6,0.799988 6,0.799988c0,0 0,6.799988 0,6.799988z"))
    boroughs.push(paper.path("m623.80011,497.800171c0,0 20.799927,-15.80014 43.599915,1.799835c13,37.60025 35.600037,27.39975 44.599976,72.399994c34.400024,42.399963 26.800171,36.199707 50.80011,73.800049c-1.599976,22.800354 -19.999878,91.999756 -24.400024,100.799866c-8.799927,-9.999695 -49.400085,-34.399597 -65.400085,-47.599915c-23.599915,-23.999817 -29.999939,-31.799622 -40,-51c-11.199951,-25.199951 -21.666687,-58.000305 -24.333374,-69.666748c-3.732849,-25.066284 29.066406,-40.732788 15.133484,-80.533081z"))
    boroughs.push(paper.path("m461.200012,823.100159c0,0 2.600037,19.499817 11.799988,23.899841c12.400085,20.399963 30.600006,16.599976 30.600006,16.599976c0,0 38.399994,14.400085 38.399994,24.800049c17.600281,7.600159 4.400024,26 4.799988,26c33.599854,4.799988 20.799988,16.799988 20.799988,16.799988c-30.000061,-13.600281 -46,1.200012 -46,1.200012c-6.000183,8.000305 0.800049,12.799988 0.800049,12.799988c14.000183,12.400208 21.199951,7.599976 21.199951,7.599976c18.799805,9.600098 64.399902,-4.400024 82,-8.399963c41.200073,-37.599976 47.999939,-47.999878 57.600037,-60c31.599854,-22.799805 39.600098,-82.399902 40.399963,-88.800049c5.599792,-4.799988 14.800049,-52 14.800049,-52c0.400024,0.000061 -66,-45.199951 -66,-45.199951c0,0 -48.800049,68 -48.800049,68c-7.600037,14.80011 -27.599976,31.199951 -27.599976,31.199951c-12.799866,8.799927 -25.19989,9.999817 -44.400024,14c-9.999939,3.200195 -43.199982,6.400024 -43.199982,6.400024c-19.200104,3.199707 -30.399963,3.500183 -47.199982,5.100159z"))
    boroughs.push(paper.path("m624,946.5c0,0 32,0 65.5,-7.5c2,-6.5 -0.5,-18.5 -0.5,-18.5c0,0 10,-5 10,-5c0,0 10.5,7.5 27.5,10c8.5,-8.5 4,-14.5 4,-14.5c14,0.5 26.5,-7.5 26.5,-7.5c0,0 4.5,18.5 8.5,20.5c-4.5,-2 -17,-6.5 -17,-6.5c0,0 -7,10 19,19.5c18.5,-3.5 37.5,-11 37.5,-11c5.5,-1 3.5,-8.5 3.5,-8.5c-5,-26 -20,-55.5 -20,-55.5c-9.5,-2 -31.5,-0.5 -31,-0.5c0.5,0 15,-12 15,-12c8,1 9.5,-2 9.5,-2c-14,-30 -21,-36.5 -20.5,-36c6.5,1 15.5,1 15.5,1c20.5,-34.5 19.5,-31.5 46.5,-45c-5.5,-9 -11,-20 -11,-19.5c6.5,1.5 18.5,0.5 18.5,0.5c6,1.5 11.5,0.5 11.5,0.5c-2.5,-2.5 2,-14.5 2,-14.5c0,0 -10,-12 -10,-12c0,0 -1,-8.5 -1,-8.5c1.5,-2.5 11.5,-6.5 11.5,-6.5c-1.5,-1 -2,-8 -2,-8c3,1.5 6,-2.5 6,-2.5c1.5,-2 -4,-20 -4,-20c0,0 -6.5,-0.5 -6.5,-0.5c0,0 -3.5,-19.5 -3.5,-19c0,0.5 -6,-3 -6,-3c0,0 -3.5,-7 -3.5,-7c0,0 -5.5,-34 -5.5,-34c0,0 -8,1.5 -8,1.5c0,0 -25,19 -25,19c0,0 -26,8.5 -25.5,8.5c1,19.5 -6,47.5 -7.5,49c-7,35 -9,37.5 -15.5,51c-5.5,28.5 -9.5,41.5 -14.5,54.5c-1,15.5 -7,32 -14,52.5c-10.5,23 -20,28 -29,35.5c-18.5,26.5 -57,61.5 -57,61.5z"))
    boroughs.push(paper.path("m673,1c0,0 -55,195 -86,231c-20,61 -80,159 -80,159c-38,56 -22,176 -47,171c-32,40 -50,56 -50,56c-44,53 -100,62 -99,62c32,11 39,34 39,34c0,0 16,26 -53,20c-30,20 -64,1 -64,1c0,0 67,-107 78,-173c24,-10 21,-47 21,-47c0,0 -10,0 -10,0c0,0 -6,27 -6,27c-17,18 -35,-3 -35,-3c10,74 -23,89 -23,89c-1,10 -16,34 -16,34c-13,25 -52,48 -52,48c5,27 -83,35 -81,101c-4,19 5,73 5,73c-11,14 -23,61 -23,61c4,11 -11,31 -11,31c0,0 -21,-6 -21,-6c0,0 -28,25 -47,23c-6,60 3,81 3,81c0,0 -13,19 -13,19c0,0 0,-1082 -2,-1093c62,2 673,1 673,1z"))
    for(x in boroughs){
      console.log(x + " => ",boroughs[x])
    }
    for(var i = 0; i < boroughs.length; i++){
        boroughs[i].attr({fill:'#bcbcbc', "stroke-width":2});
        boroughs[i].transform( 'S0.6,0.5,0,0');
        boroughs[i].node.id = "region"+i;
        $("#"+boroughs[i].node.id).data("regionNum",i);
        // if(i != boroughs.length - 1){
            // boroughs[i].mouseover(function(){this.node.style.cursor='pointer'; this.animate({fill:'white'}, 3000, "linear")});
            // boroughs[i].mouseout(function(){this.animate({fill:'#bcbcbc'}, 300, "linear")});
        // }
    }
    boroughs[15].attr({fill:'#eee'});
    console.log(boroughs);


    



    var sRegions = [];
    for(var ib = 0; ib < 15; ib++){
      sRegions.push("#region"+ib);
    }
    console.log(sRegions);
    var rRegions = [<%- game.regions %>];
    window.game = new Game(<%= game.id %>, [<% for(var i=0; i<game.players.length; i++) {%>"<%= game.players[i] %>",<% } %>], "<%= game.map %>", <%= game.turn %>, [<%- game.regions %>], sRegions, <%= pNum %>);
    game.colorRegions();

});

</script>
<script type="text/javascript"> jQuery(document).ready(function(){
  $('#regionInfo').modal({
    keyboard: true,
    show: false
});
  $('#firstGame').modal({
    keyboard: true,
    show: false
});
  
}); </script>
<style type="text/css">
    body{
        padding-top: 60px;
    }
</style>
</head>
<body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">TRIUMPH</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="/about">About</a></li>
              <li class="dropdown" id="menu1">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#menu1">
                  Games
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/games/new">New Game</a></li>
                  <li><a href="/games/">Current</a></li>
                  <li><a href="/games/past">History</a></li>
                </ul>
              </li>
            </ul>
            <ul class="nav pull-right">
                <li class="faux-link">Welcome back, <%= session.username %>!</li>
                <li><a href="/logout">Logout</a></li>
            </ul>
          </div><!--/.nav-collapse -->
          
        </div>
      </div>
      <div id="nav-colors"></div>   
    </div>
    <div class="container">
        <div id="wrapper">
            <div id="canvas_container" style="margin-left:auto;margin-right:auto;width:800px;height:600px;"></div>
        </div>
    </div>
    <div class="modal hide fade" id="regionInfo">
      <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>Region Info</h3>
      </div>
      <div class="modal-body">
        <p></p>
        <p>Player: <span id="regionInfoPlayer">REPLACE</span></p>
        <p>Troops: <select data-placeholder="Your Favorite Type of Bear" style="width:350px;" id="regionTroops" class="chosen" tabindex="7">
          <option value=""></option>
          <option>American Black Bear</option>
          <option>Asiatic Black Bear</option>
          <option>Brown Bear</option>
          <option>Giant Panda</option>
          <option selected>Sloth Bear</option>
          <option disabled>Sun Bear</option>
          <option>Polar Bear</option>
          <option disabled>Spectacled Bear</option>
        </select>
        </p>
      </div>
      <div class="modal-footer">
        <a href="#" data-dismiss="modal" class="btn">Close</a>
        <a href="#" class="btn btn-primary">Save changes</a>
      </div>
    </div>
    <div class="modal hide fade" id="firstGame">
      <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>First time</h3>
      </div>
      <div class="modal-body">
        <p>One fine body…</p>
      </div>
      <div class="modal-footer center">
        <a href="#" data-dismiss="modal" class="btn btn-success btn-large">Tour</a>
      </div>
    </div>
    <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/bootstrap-dropdown.js"></script>
    <script type="text/javascript">
    $('.dropdown-toggle').dropdown()
    </script>
</body>
</body>
</html>